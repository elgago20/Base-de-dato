<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Escolar</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #fafafa;
            color: #333;
            line-height: 1.4;
        }
        
        h1 {
            color: #2c3e50;
            font-weight: 300;
            margin-bottom: 30px;
        }
        
        h2 {
            color: #34495e;
            font-weight: 400;
            margin-top: 0;
        }
        
        .tabs {
            display: flex;
            border-bottom: 1px solid #ddd;
            margin-bottom: 20px;
        }
        
        .tab {
            padding: 12px 24px;
            cursor: pointer;
            border: none;
            background: none;
            color: #666;
            font-size: 16px;
            position: relative;
        }
        
        .tab.active {
            color: #3498db;
            font-weight: 500;
        }
        
        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 2px;
            background: #3498db;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .add-form {
            background: white;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid #eee;
        }
        
        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .form-group {
            flex: 1;
            min-width: 150px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            color: #555;
            font-size: 14px;
        }
        
        input, select {
            width: 100%;
            padding: 8px 10px;
            border: 1px solid #ddd;
            border-radius: 3px;
            font-size: 14px;
            box-sizing: border-box;
        }
        
        .btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.2s;
        }
        
        .btn:hover {
            background: #2980b9;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .search {
            flex: 1;
            min-width: 200px;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border: 1px solid #eee;
        }
        
        th {
            text-align: left;
            padding: 15px 12px;
            border-bottom: 2px solid #eee;
            color: #555;
            font-weight: 500;
        }
        
        td {
            padding: 12px;
            border-bottom: 1px solid #eee;
        }
        
        tr:hover {
            background-color: #f8f9fa;
        }
        
        .message {
            padding: 10px;
            margin: 10px 0;
            border-radius: 3px;
            display: none;
            font-size: 14px;
        }
        
        .success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <h1>Sistema Escolar</h1>
    
    <div class="tabs">
        <button class="tab active" onclick="openTab('estudiantes')">Estudiantes</button>
        <button class="tab" onclick="openTab('personal')">Personal</button>
    </div>
    
    <div id="estudiantes" class="tab-content active">
        <div class="add-form">
            <div class="form-row">
                <div class="form-group">
                    <label>Nombre</label>
                    <input type="text" id="newNombre" placeholder="Nombre">
                </div>
                <div class="form-group">
                    <label>Apellido</label>
                    <input type="text" id="newApellido" placeholder="Apellido">
                </div>
                <div class="form-group">
                    <label>Sección</label>
                    <select id="newSeccion">
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Turno</label>
                    <select id="newTurno">
                        <option value="Mañana">Mañana</option>
                        <option value="Tarde">Tarde</option>
                        <option value="Noche">Noche</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Edad</label>
                    <input type="number" id="newEdad" min="10" max="20" placeholder="15">
                </div>
                <div class="form-group" style="align-self: flex-end;">
                    <button class="btn" onclick="addStudent()">Agregar</button>
                </div>
            </div>
            <div id="studentMessage" class="message"></div>
        </div>
        
        <div class="controls">
            <input type="text" class="search" id="studentSearch" placeholder="Buscar estudiante..." onkeyup="searchStudents()">
            <select id="sectionFilter" onchange="filterStudents()" style="width: auto;">
                <option value="">Todas las secciones</option>
                <option value="A">A</option>
                <option value="B">B</option>
                <option value="C">C</option>
            </select>
            <select id="shiftFilter" onchange="filterStudents()" style="width: auto;">
                <option value="">Todos los turnos</option>
                <option value="Mañana">Mañana</option>
                <option value="Tarde">Tarde</option>
                <option value="Noche">Noche</option>
            </select>
        </div>
        
        <table id="studentTable">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>Sección</th>
                    <th>Turno</th>
                    <th>Edad</th>
                </tr>
            </thead>
            <tbody id="studentList">
                <!-- Los estudiantes se cargarán aquí con JavaScript -->
            </tbody>
        </table>
    </div>
    
    <div id="personal" class="tab-content">
        <div class="add-form">
            <div class="form-row">
                <div class="form-group">
                    <label>Nombre</label>
                    <input type="text" id="newStaffNombre" placeholder="Nombre">
                </div>
                <div class="form-group">
                    <label>Apellido</label>
                    <input type="text" id="newStaffApellido" placeholder="Apellido">
                </div>
                <div class="form-group">
                    <label>Cargo</label>
                    <input type="text" id="newStaffCargo" placeholder="Cargo">
                </div>
                <div class="form-group">
                    <label>Departamento</label>
                    <input type="text" id="newStaffDepto" placeholder="Departamento">
                </div>
                <div class="form-group">
                    <label>Años servicio</label>
                    <input type="number" id="newStaffAnios" min="0" max="50" placeholder="0">
                </div>
                <div class="form-group" style="align-self: flex-end;">
                    <button class="btn" onclick="addStaff()">Agregar</button>
                </div>
            </div>
            <div id="staffMessage" class="message"></div>
        </div>
        
        <div class="controls">
            <input type="text" class="search" id="staffSearch" placeholder="Buscar personal..." onkeyup="searchStaff()">
        </div>
        
        <table id="staffTable">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nombre</th>
                    <th>Apellido</th>
                    <th>Cargo</th>
                    <th>Departamento</th>
                    <th>Años</th>
                </tr>
            </thead>
            <tbody id="staffList">
                <!-- El personal se cargará aquí con JavaScript -->
            </tbody>
        </table>
    </div>

    <script>
        let students = [
            { id: 1, nombre: "Juan", apellido: "Pérez", seccion: "A", turno: "Mañana", edad: 15 },
            { id: 2, nombre: "María", apellido: "Gómez", seccion: "B", turno: "Tarde", edad: 16 },
            { id: 3, nombre: "Carlos", apellido: "López", seccion: "A", turno: "Mañana", edad: 14 },
            { id: 4, nombre: "Ana", apellido: "Martínez", seccion: "C", turno: "Noche", edad: 17 },
            { id: 5, nombre: "Luis", apellido: "Rodríguez", seccion: "B", turno: "Tarde", edad: 15 }
        ];

        let staff = [
            { id: 101, nombre: "Roberto", apellido: "Sánchez", cargo: "Director", departamento: "Administración", años: 10 },
            { id: 102, nombre: "Laura", apellido: "Fernández", cargo: "Secretaria", departamento: "Administración", años: 5 },
            { id: 103, nombre: "Miguel", apellido: "Ramírez", cargo: "Coordinador", departamento: "Académico", años: 8 }
        ];

        function loadStudents() {
            const studentList = document.getElementById('studentList');
            studentList.innerHTML = '';
            
            students.forEach(student => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${student.id}</td>
                    <td>${student.nombre}</td>
                    <td>${student.apellido}</td>
                    <td>${student.seccion}</td>
                    <td>${student.turno}</td>
                    <td>${student.edad}</td>
                `;
                studentList.appendChild(row);
            });
        }

        function loadStaff() {
            const staffList = document.getElementById('staffList');
            staffList.innerHTML = '';
            
            staff.forEach(person => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${person.id}</td>
                    <td>${person.nombre}</td>
                    <td>${person.apellido}</td>
                    <td>${person.cargo}</td>
                    <td>${person.departamento}</td>
                    <td>${person.años}</td>
                `;
                staffList.appendChild(row);
            });
        }

        function addStudent() {
            const nombre = document.getElementById('newNombre').value.trim();
            const apellido = document.getElementById('newApellido').value.trim();
            const seccion = document.getElementById('newSeccion').value;
            const turno = document.getElementById('newTurno').value;
            const edad = parseInt(document.getElementById('newEdad').value);
            
            const message = document.getElementById('studentMessage');
            
            if (!nombre || !apellido || !edad) {
                showMessage(message, 'Complete todos los campos', 'error');
                return;
            }
            
            if (edad < 10 || edad > 20) {
                showMessage(message, 'Edad entre 10 y 20 años', 'error');
                return;
            }
            
            const newId = students.length > 0 ? Math.max(...students.map(s => s.id)) + 1 : 1;
            
            students.push({
                id: newId,
                nombre: nombre,
                apellido: apellido,
                seccion: seccion,
                turno: turno,
                edad: edad
            });
            
            loadStudents();
            
            document.getElementById('newNombre').value = '';
            document.getElementById('newApellido').value = '';
            document.getElementById('newEdad').value = '';
            
            showMessage(message, `Estudiante agregado`, 'success');
        }

        function addStaff() {
            const nombre = document.getElementById('newStaffNombre').value.trim();
            const apellido = document.getElementById('newStaffApellido').value.trim();
            const cargo = document.getElementById('newStaffCargo').value.trim();
            const departamento = document.getElementById('newStaffDepto').value.trim();
            const años = parseInt(document.getElementById('newStaffAnios').value);
            
            const message = document.getElementById('staffMessage');
            
            if (!nombre || !apellido || !cargo || !departamento || isNaN(años)) {
                showMessage(message, 'Complete todos los campos', 'error');
                return;
            }
            
            if (años < 0 || años > 50) {
                showMessage(message, 'Años entre 0 y 50', 'error');
                return;
            }
            
            const newId = staff.length > 0 ? Math.max(...staff.map(p => p.id)) + 1 : 101;
            
            staff.push({
                id: newId,
                nombre: nombre,
                apellido: apellido,
                cargo: cargo,
                departamento: departamento,
                años: años
            });
            
            loadStaff();
            
            document.getElementById('newStaffNombre').value = '';
            document.getElementById('newStaffApellido').value = '';
            document.getElementById('newStaffCargo').value = '';
            document.getElementById('newStaffDepto').value = '';
            document.getElementById('newStaffAnios').value = '';
            
            showMessage(message, `Personal agregado`, 'success');
        }

        function showMessage(element, text, type) {
            element.textContent = text;
            element.className = `message ${type}`;
            element.style.display = 'block';
            
            setTimeout(() => {
                element.style.display = 'none';
            }, 2000);
        }

        function searchStudents() {
            const input = document.getElementById('studentSearch').value.toLowerCase();
            const sectionFilter = document.getElementById('sectionFilter').value;
            const shiftFilter = document.getElementById('shiftFilter').value;
            
            const filtered = students.filter(student => {
                const nameMatch = (student.nombre.toLowerCase().includes(input) || 
                                 student.apellido.toLowerCase().includes(input));
                const sectionMatch = !sectionFilter || student.seccion === sectionFilter;
                const shiftMatch = !shiftFilter || student.turno === shiftFilter;
                
                return nameMatch && sectionMatch && shiftMatch;
            });
            
            renderFilteredStudents(filtered);
        }

        function filterStudents() {
            searchStudents();
        }

        function renderFilteredStudents(filteredStudents) {
            const studentList = document.getElementById('studentList');
            studentList.innerHTML = '';
            
            filteredStudents.forEach(student => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${student.id}</td>
                    <td>${student.nombre}</td>
                    <td>${student.apellido}</td>
                    <td>${student.seccion}</td>
                    <td>${student.turno}</td>
                    <td>${student.edad}</td>
                `;
                studentList.appendChild(row);
            });
        }

        function searchStaff() {
            const input = document.getElementById('staffSearch').value.toLowerCase();
            const filtered = staff.filter(person => {
                return person.nombre.toLowerCase().includes(input) || 
                       person.apellido.toLowerCase().includes(input) ||
                       person.cargo.toLowerCase().includes(input) ||
                       person.departamento.toLowerCase().includes(input);
            });
            
            renderFilteredStaff(filtered);
        }

        function renderFilteredStaff(filteredStaff) {
            const staffList = document.getElementById('staffList');
            staffList.innerHTML = '';
            
            filteredStaff.forEach(person => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${person.id}</td>
                    <td>${person.nombre}</td>
                    <td>${person.apellido}</td>
                    <td>${person.cargo}</td>
                    <td>${person.departamento}</td>
                    <td>${person.años}</td>
                `;
                staffList.appendChild(row);
            });
        }

        function openTab(tabName) {
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
            
            document.querySelector(`.tab[onclick="openTab('${tabName}')"]`).classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        document.addEventListener('DOMContentLoaded', function() {
            loadStudents();
            loadStaff();
        });
    </script>
</body>
</html>
